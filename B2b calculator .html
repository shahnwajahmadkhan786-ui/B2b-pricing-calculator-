<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Multi-Product B2B Calculator</title>
<style>
    body { font-family: Arial, sans-serif; max-width: 800px; margin: 30px auto; }
    h2 { text-align: center; }
    .product { border: 1px solid #ccc; padding: 15px; margin-bottom: 15px; }
    label { display: block; margin-top: 10px; }
    input, select { width: 100%; padding: 8px; margin-top: 5px; }
    button { margin-top: 20px; padding: 10px; width: 100%; background-color: #4CAF50; color: white; border: none; cursor: pointer; }
    button:hover { background-color: #45a049; }
    .result { margin-top: 20px; font-size: 16px; font-weight: bold; }
</style>
</head>
<body>

<h2>Multi-Product B2B Pricing & Profit Calculator</h2>

<div id="products">
    <div class="product">
        <h3>Phenyl / White Deodorant</h3>
        <label>Cost incl GST ₹</label><input type="number" class="cost" value="95">
        <label>Extra Costs ₹</label><input type="number" class="extra" value="20">
        <label>Desired Margin ₹</label><input type="number" class="margin" value="50">
        <label>Quantity per Month</label><input type="number" class="quantity" value="20">
    </div>

    <div class="product">
        <h3>Harpic-type Toilet Cleaner</h3>
        <label>Cost incl GST ₹</label><input type="number" class="cost" value="177">
        <label>Extra Costs ₹</label><input type="number" class="extra" value="20">
        <label>Desired Margin ₹</label><input type="number" class="margin" value="50">
        <label>Quantity per Month</label><input type="number" class="quantity" value="20">
    </div>

    <div class="product">
        <h3>Lizol-type Disinfectant</h3>
        <label>Cost incl GST ₹</label><input type="number" class="cost" value="177">
        <label>Extra Costs ₹</label><input type="number" class="extra" value="20">
        <label>Desired Margin ₹</label><input type="number" class="margin" value="50">
        <label>Quantity per Month</label><input type="number" class="quantity" value="20">
    </div>
</div>

<label>GST % on Product</label><input type="number" id="gst" value="18">
<label>Are you GST Registered?</label>
<select id="registered"><option value="no">No</option><option value="yes">Yes</option></select>

<button onclick="calculateAll()">Calculate All</button>

<div class="result" id="result"></div>

<script>
function calculateAll() {
    let gstRate = parseFloat(document.getElementById('gst').value);
    let registered = document.getElementById('registered').value;
    let products = document.getElementsByClassName('product');
    let output = '';

    for (let i = 0; i < products.length; i++) {
        let cost = parseFloat(products[i].getElementsByClassName('cost')[0].value);
        let extra = parseFloat(products[i].getElementsByClassName('extra')[0].value);
        let margin = parseFloat(products[i].getElementsByClassName('margin')[0].value);
        let quantity = parseFloat(products[i].getElementsByClassName('quantity')[0].value);

        let baseCost = cost / (1 + gstRate/100);
        let totalBase = baseCost + extra;
        let sellingExGST = totalBase + margin;
        let sellingInclGST = registered === "yes" ? sellingExGST * (1 + gstRate/100) : sellingExGST;
        let profitPerCan = sellingExGST - totalBase;
        let totalMonthlyProfit = profitPerCan * quantity;

        sellingExGST = Math.round(sellingExGST);
        sellingInclGST = Math.round(sellingInclGST);
        profitPerCan = Math.round(profitPerCan);
        totalMonthlyProfit = Math.round(totalMonthlyProfit);

        output += `<h3>${products[i].getElementsByTagName('h3')[0].innerText}</h3>`;
        output += `Selling Price (Non-GST / unregistered): ₹${sellingExGST}<br>`;
        if (registered === "yes") output += `Selling Price (GST Registered): ₹${sellingInclGST}<br>`;
        output += `Profit per Can: ₹${profitPerCan}<br>`;
        output += `Total Monthly Profit for ${quantity} cans: ₹${totalMonthlyProfit}<br><hr>`;
    }

    document.getElementById('result').innerHTML = output;
}
</script>

</body>
</html>